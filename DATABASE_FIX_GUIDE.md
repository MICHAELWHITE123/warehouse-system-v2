# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏:
- "Local storage is disabled. Use database storage only."
- "Database initialization failed"
- "SyncAdapter initialization failed. Local sync is disabled."
- "HTTP 404: Not Found" –¥–ª—è `/api/sync`

## –ü—Ä–∏—á–∏–Ω–∞
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Redis/Postgres), –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã, –∏ –ø—Ä–∏ —ç—Ç–æ–º –æ—Ç–∫–ª—é—á–∏–ª–æ fallback –∫ localStorage.
2. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç API –º–∞—Ä—à—Ä—É—Ç `/api/sync` –Ω–∞ Vercel.

## –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–§–∞–π–ª: `src/config/databaseConfig.ts`
- –†–∞–∑—Ä–µ—à—ë–Ω fallback –∫ localStorage
- –í–∫–ª—é—á–µ–Ω–∞ –≥–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- –û—Ç–∫–ª—é—á—ë–Ω –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º "—Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä"

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω HybridAdapter
–§–∞–π–ª: `src/database/hybridAdapter.ts`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∫–∞–∫ fallback
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `setInLocal`, `getFromLocal`, `deleteFromLocal`

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω SyncAdapter
–§–∞–π–ª: `src/database/syncAdapter.ts`
- –ò–∑–º–µ–Ω—ë–Ω —Ä–µ–∂–∏–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å 'server' –Ω–∞ 'hybrid'
- –û—Ç–∫–ª—é—á—ë–Ω –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –£–±—Ä–∞–Ω—ã –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞–ª–∏ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ
- **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ 404
- **–í–†–ï–ú–ï–ù–ù–û**: –û—Ç–∫–ª—é—á–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è API

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∞ production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–§–∞–π–ª: `env.production`
- –û—Ç–∫–ª—é—á–µ–Ω—ã –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Redis, Postgres, Vercel KV)
- –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ Supabase + localStorage fallback

### 5. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã
–§–∞–π–ª: `src/utils/databaseTest.ts`
- –¢–µ—Å—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã localStorage

### 6. –°–æ–∑–¥–∞–Ω—ã API –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è Vercel
–§–∞–π–ª: `api/sync.js`
- API –º–∞—Ä—à—Ä—É—Ç –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ POST –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–§–∞–π–ª: `api/test.js`
- –¢–µ—Å—Ç–æ–≤—ã–π API –º–∞—Ä—à—Ä—É—Ç
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GET –∏ POST –∑–∞–ø—Ä–æ—Å–æ–≤

### 7. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
–§–∞–π–ª: `vercel.json`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ API –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è `/api/*`

### 8. –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
–§–∞–π–ª: `api-test.html`
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã `/api/test` –∏ `/api/sync`

## –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ Supabase (–æ—Å–Ω–æ–≤–Ω–∞—è –ë–î)
‚îú‚îÄ‚îÄ localStorage (fallback)
‚îú‚îÄ‚îÄ BrowserDatabase (–ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î)
‚îî‚îÄ‚îÄ Vercel API (sync endpoint) - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- "Local storage is disabled" - –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- "Database initialization failed" - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- "SyncAdapter initialized successfully" - —Ä–∞–±–æ—Ç–∞–µ—Ç
- "Hybrid Database Adapter initialized successfully" - —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ó–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### üîß –í –ø—Ä–æ—Ü–µ—Å—Å–µ:
- API –º–∞—Ä—à—Ä—É—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ Vercel
- –û–∂–∏–¥–∞–µ—Ç—Å—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (–æ–±—ã—á–Ω–æ 2-5 –º–∏–Ω—É—Ç)

### üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ü–æ–¥–æ–∂–¥–∞—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ Vercel (2-5 –º–∏–Ω—É—Ç)
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ `api-test.html`
3. –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ development —Ä–µ–∂–∏–º–µ:
```bash
npm run dev
```

2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ù–µ—Ç –æ—à–∏–±–æ–∫ "Local storage is disabled"
- –ù–µ—Ç –æ—à–∏–±–æ–∫ "Database initialization failed"
- –ï—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ —É—Å–ø–µ—à–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

3. –í development —Ä–µ–∂–∏–º–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–µ—Å—Ç—ã:
- –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
- –ü—Ä–æ–≤–µ—Ä–∫–∞ localStorage

4. –î–ª—è production (Vercel):
- –û—Ç–∫—Ä–æ–π—Ç–µ `api-test.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ API endpoints

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π

### Development
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Supabase + localStorage
- –í–∫–ª—é—á–µ–Ω—ã –≤—Å–µ —Ç–µ—Å—Ç—ã –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 3001

### Production (Vercel)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Supabase + localStorage fallback
- API –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ Vercel Functions (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
- –û—Ç–∫–ª—é—á–µ–Ω—ã –≤–Ω–µ—à–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

## –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ localStorage –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫

4. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Vercel, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ

5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –º–∞—Ä—à—Ä—É—Ç—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã –Ω–∞ Vercel:
   - –û—Ç–∫—Ä–æ–π—Ç–µ `api-test.html`
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ Vercel Dashboard

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –£–±—Ä–∞–Ω—ã –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ 404

### –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Vercel API
- –°–æ–∑–¥–∞–Ω—ã API –º–∞—Ä—à—Ä—É—Ç—ã –≤ –ø–∞–ø–∫–µ `api/`
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è API endpoints
- –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ä—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è API
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö 404
- –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
