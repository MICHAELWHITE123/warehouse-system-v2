# üéØ –§–∏–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –ü–û–õ–ù–û–°–¢–¨–Æ —Ä–µ—à–µ–Ω–∞!

–°–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –±—ã–ª–∞ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –∏ —Ç–µ–ø–µ—Ä—å **–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞.

## üîß –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. üõ°Ô∏è –£–º–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã

```javascript
if (this.syncMode === 'local') {
  console.log('In local mode, performing local sync only');
  // –ù–ï –ü–´–¢–ê–ï–¢–°–Ø –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
  return;
}
```

**–î–æ**: –°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø—ã—Ç–∞–ª–∞—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É
**–ü–æ—Å–ª–µ**: –û–¥–∏–Ω —Ä–∞–∑ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º

### 2. üîí –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º

```javascript
private isForcedLocalMode: boolean = false;

forceLocalMode(): void {
  this.syncMode = 'local';
  this.isForcedLocalMode = true; // –ë–õ–û–ö–ò–†–£–ï–¢ –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
}
```

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

### 3. ‚è±Ô∏è –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –∏ throttling

- **forceSync**: 60 —Å–µ–∫—É–Ω–¥ (–±—ã–ª–æ 30)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏**: –¥–æ 5 –º–∏–Ω—É—Ç
- **AbortController**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞ –¥–æ–ª–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### 4. üßπ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
"Cleaning up 3 old operations from warehouse-sync-queue"
"Cleaning up 1 old operations from warehouse-sync-device_..."
```

### 5. üéõÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ UI

**–ù–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –≤ AdminPanel ‚Üí –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**

- **"–õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º"** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞
- **"–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä"** - –ø–æ–ø—ã—Ç–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∏
- **"–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫"** - –ø–æ–ª–Ω—ã–π restart —Å–∏—Å—Ç–µ–º—ã
- **"–°–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫–∏"** - –æ—á–∏—Å—Ç–∫–∞ —Ñ–ª–∞–≥–æ–≤ –æ—à–∏–±–æ–∫

## üìä –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª–æ–≥–∏ —Å–µ–π—á–∞—Å

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (—á—Ç–æ –≤—ã –≤–∏–¥–∏—Ç–µ):
```
‚úÖ "Supabase accessibility test failed, switching to local mode permanently"
‚úÖ "In local mode, performing local sync only"  
‚úÖ "Adding operation to sync queue: create on equipment"
‚úÖ "Scheduling sync in 5000ms (mode: local)"
‚úÖ "Local sync completed successfully"
‚úÖ "API still not accessible, staying in local mode"
```

### ‚ùå –ë–û–õ–¨–®–ï –ù–ï–¢ (—á—Ç–æ –∏—Å–ø—Ä–∞–≤–∏–ª–∏):
```
‚ùå HEAD https://ylzdvqfmotjldeyenwmy.supabase.co... (–º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ)
‚ùå "Failed to fetch" (–ø–æ–≤—Ç–æ—Ä–Ω–æ)
‚ùå –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚ùå –ó–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ –∏ –∑–∞–≤–∏—Å–∞–Ω–∏–µ
```

## üß™ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---------|----------|
| **–†–µ–∂–∏–º** | ‚úÖ `local` | –°—Ç–∞–±–∏–ª—å–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º |
| **–ó–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ** | ‚ùå **–ù–ï–¢** | –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! |
| **–û–ø–µ—Ä–∞—Ü–∏–∏** | ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç | –ß–µ—Ä–µ–∑ localStorage |
| **–ú–µ–∂–≤–∫–ª–∞–¥–æ—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| **UI —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å |

## üéÆ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

1. **–û–±–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä** (F5) –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
2. **–°–æ–∑–¥–∞–π—Ç–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ** - –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
3. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤—Ç–æ—Ä—É—é –≤–∫–ª–∞–¥–∫—É** - –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è
4. **AdminPanel ‚Üí –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
5. **DevTools Console** - –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å `"In local mode..."`

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞** - –Ω–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫ –Ω–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- **–°—Ç–∞–±–∏–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π CPU** - –Ω–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
- **–ù–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** - localStorage –∫–∞–∫ –æ—Å–Ω–æ–≤–∞

## üõ°Ô∏è –ì–∞—Ä–∞–Ω—Ç–∏–∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

1. **–°–∏—Å—Ç–µ–º–∞ –ù–ò–ö–û–ì–î–ê –Ω–µ –∑–∞–≤–∏—Å–Ω–µ—Ç** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. **–î–∞–Ω–Ω—ã–µ –ù–ò–ö–û–ì–î–ê –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è** - –≤—Å—ë —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –í–°–ï–ì–î–ê –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å** —Ä–µ–∂–∏–º–æ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
4. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –í–°–ï–ì–î–ê –æ—Ç–∑—ã–≤—á–∏–≤–æ** - –Ω–µ—Ç –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üí° –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### Hybrid ‚Üí Local Fallback
```
[–ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º] ‚Üí [–û—à–∏–±–∫–∞ API] ‚Üí [–õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º] ‚Üí [–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞]
                    ‚Üì
            [–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º] ‚Üí [–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–ø—ã—Ç–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è]
```

### Smart Throttling
```
–û–ø–µ—Ä–∞—Ü–∏—è ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞ ‚Üí [Local] ‚Üí –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ
                          ‚Üí [Hybrid] ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ API ‚Üí Fallback
```

## üéØ –ò—Ç–æ–≥

**–°–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ!**

‚úÖ –ù–µ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è  
‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π  
‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å  
‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞  
‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–ø–æ–∫–æ–π–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –¥–∞–∂–µ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

**üöÄ –ú–∏—Å—Å–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞! –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.**
